import{r as t,u as p,j as l,L as u,T as h,D as j,a as b}from"./index-RulhGnuC.js";import{u as m,L as E,S as R}from"./Section-BkEuq3rL.js";import{u as Z}from"./useQuery-C5cSQBwp.js";function M({title:a,titleId:e,...n},s){return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},n),a?t.createElement("title",{id:e},a):null,t.createElement("path",{fillRule:"evenodd",d:"M3 2.25a.75.75 0 0 0 0 1.5v16.5h-.75a.75.75 0 0 0 0 1.5H15v-18a.75.75 0 0 0 0-1.5H3ZM6.75 19.5v-2.25a.75.75 0 0 1 .75-.75h3a.75.75 0 0 1 .75.75v2.25a.75.75 0 0 1-.75.75h-3a.75.75 0 0 1-.75-.75ZM6 6.75A.75.75 0 0 1 6.75 6h.75a.75.75 0 0 1 0 1.5h-.75A.75.75 0 0 1 6 6.75ZM6.75 9a.75.75 0 0 0 0 1.5h.75a.75.75 0 0 0 0-1.5h-.75ZM6 12.75a.75.75 0 0 1 .75-.75h.75a.75.75 0 0 1 0 1.5h-.75a.75.75 0 0 1-.75-.75ZM10.5 6a.75.75 0 0 0 0 1.5h.75a.75.75 0 0 0 0-1.5h-.75Zm-.75 3.75A.75.75 0 0 1 10.5 9h.75a.75.75 0 0 1 0 1.5h-.75a.75.75 0 0 1-.75-.75ZM10.5 12a.75.75 0 0 0 0 1.5h.75a.75.75 0 0 0 0-1.5h-.75ZM16.5 6.75v15h5.25a.75.75 0 0 0 0-1.5H21v-12a.75.75 0 0 0 0-1.5h-4.5Zm1.5 4.5a.75.75 0 0 1 .75-.75h.008a.75.75 0 0 1 .75.75v.008a.75.75 0 0 1-.75.75h-.008a.75.75 0 0 1-.75-.75v-.008Zm.75 2.25a.75.75 0 0 0-.75.75v.008c0 .414.336.75.75.75h.008a.75.75 0 0 0 .75-.75v-.008a.75.75 0 0 0-.75-.75h-.008ZM18 17.25a.75.75 0 0 1 .75-.75h.008a.75.75 0 0 1 .75.75v.008a.75.75 0 0 1-.75.75h-.008a.75.75 0 0 1-.75-.75v-.008Z",clipRule:"evenodd"}))}const N=t.forwardRef(M);function T({title:a,titleId:e,...n},s){return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},n),a?t.createElement("title",{id:e},a):null,t.createElement("path",{fillRule:"evenodd",d:"M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25ZM8.547 4.505a8.25 8.25 0 1 0 11.672 8.214l-.46-.46a2.252 2.252 0 0 1-.422-.586l-1.08-2.16a.414.414 0 0 0-.663-.107.827.827 0 0 1-.812.21l-1.273-.363a.89.89 0 0 0-.738 1.595l.587.39c.59.395.674 1.23.172 1.732l-.2.2c-.211.212-.33.498-.33.796v.41c0 .409-.11.809-.32 1.158l-1.315 2.191a2.11 2.11 0 0 1-1.81 1.025 1.055 1.055 0 0 1-1.055-1.055v-1.172c0-.92-.56-1.747-1.414-2.089l-.654-.261a2.25 2.25 0 0 1-1.384-2.46l.007-.042a2.25 2.25 0 0 1 .29-.787l.09-.15a2.25 2.25 0 0 1 2.37-1.048l1.178.236a1.125 1.125 0 0 0 1.302-.795l.208-.73a1.125 1.125 0 0 0-.578-1.315l-.665-.332-.091.091a2.25 2.25 0 0 1-1.591.659h-.18c-.249 0-.487.1-.662.274a.931.931 0 0 1-1.458-1.137l1.279-2.132Z",clipRule:"evenodd"}))}const y=t.forwardRef(T);function H({title:a,titleId:e,...n},s){return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},n),a?t.createElement("title",{id:e},a):null,t.createElement("path",{d:"M19.006 3.705a.75.75 0 1 0-.512-1.41L6 6.838V3a.75.75 0 0 0-.75-.75h-1.5A.75.75 0 0 0 3 3v4.93l-1.006.365a.75.75 0 0 0 .512 1.41l16.5-6Z"}),t.createElement("path",{fillRule:"evenodd",d:"M3.019 11.114 18 5.667v3.421l4.006 1.457a.75.75 0 1 1-.512 1.41l-.494-.18v8.475h.75a.75.75 0 0 1 0 1.5H2.25a.75.75 0 0 1 0-1.5H3v-9.129l.019-.007ZM18 20.25v-9.566l1.5.546v9.02H18Zm-9-6a.75.75 0 0 0-.75.75v4.5c0 .414.336.75.75.75h3a.75.75 0 0 0 .75-.75V15a.75.75 0 0 0-.75-.75H9Z",clipRule:"evenodd"}))}const O=t.forwardRef(H);function _({title:a,titleId:e,...n},s){return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},n),a?t.createElement("title",{id:e},a):null,t.createElement("path",{fillRule:"evenodd",d:"M12 3.75a.75.75 0 0 1 .75.75v6.75h6.75a.75.75 0 0 1 0 1.5h-6.75v6.75a.75.75 0 0 1-1.5 0v-6.75H4.5a.75.75 0 0 1 0-1.5h6.75V4.5a.75.75 0 0 1 .75-.75Z",clipRule:"evenodd"}))}const A=t.forwardRef(_);function I({title:a,titleId:e,...n},s){return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},n),a?t.createElement("title",{id:e},a):null,t.createElement("path",{fillRule:"evenodd",d:"M16.5 4.478v.227a48.816 48.816 0 0 1 3.878.512.75.75 0 1 1-.256 1.478l-.209-.035-1.005 13.07a3 3 0 0 1-2.991 2.77H8.084a3 3 0 0 1-2.991-2.77L4.087 6.66l-.209.035a.75.75 0 0 1-.256-1.478A48.567 48.567 0 0 1 7.5 4.705v-.227c0-1.564 1.213-2.9 2.816-2.951a52.662 52.662 0 0 1 3.369 0c1.603.051 2.815 1.387 2.815 2.951Zm-6.136-1.452a51.196 51.196 0 0 1 3.273 0C14.39 3.05 15 3.684 15 4.478v.113a49.488 49.488 0 0 0-6 0v-.113c0-.794.609-1.428 1.364-1.452Zm-.355 5.945a.75.75 0 1 0-1.5.058l.347 9a.75.75 0 1 0 1.499-.058l-.346-9Zm5.48.058a.75.75 0 1 0-1.498-.058l-.347 9a.75.75 0 0 0 1.5.058l.345-9Z",clipRule:"evenodd"}))}const L=t.forwardRef(I),D=()=>{const{t:a}=p(),{data:e,loading:n}=Z(h,{variables:{locale:"uk",pagination:{limit:-1}}}),[s,{loading:d}]=m(j),[f]=m(b,{refetchQueries:[h]}),v=i=>i.filter(r=>r==null?void 0:r.visited).length,x=i=>i.filter(r=>!(r!=null&&r.visited)).length,w=async i=>{if(confirm(a("delete_territory_confirm"))){const r=e==null?void 0:e.territories.find(({documentId:o})=>o===i);try{for(const o of(r==null?void 0:r.houses)??[])await s({variables:{documentId:o==null?void 0:o.documentId}});await f({variables:{documentId:r==null?void 0:r.documentId}})}catch(o){console.error(o)}}},g={apartment_building:l.jsx(N,{className:"w-8 h-8"}),private_houses:l.jsx(O,{className:"w-8 h-8"}),default:l.jsx(y,{className:"w-8 h-8"})};return n||d?l.jsx("main",{className:"flex-1 flex items-center justify-center",children:l.jsx(E,{loadingText:a(d?"deletingTerritory":"loadingTerritories")})}):e!=null&&e.territories.length?l.jsx("main",{className:"flex-1",children:l.jsx(R,{children:l.jsx("ul",{className:"flex flex-wrap gap-10 md:gap-20",children:e==null?void 0:e.territories.map(({documentId:i,type:r,name:o,houses:c})=>l.jsxs("li",{className:"grid gap-2 w-max",children:[l.jsx("span",{className:"ml-7 px-4 pt-0.5 pb-1 text-xs bg-slate-800 text-slate-300 rounded-full w-max",children:a(`${r??"default"}`)}),l.jsxs("div",{className:"flex gap-8",children:[l.jsxs(u,{to:`territory/${i}`,className:"flex items-end gap-3 duration-200 hover:text-slate-500",children:[g[r??"default"],o]}),l.jsx("button",{type:"button",className:"flex items-center justify-center w-8 h-8 ml-auto cursor-pointer bg-white text-slate-950 rounded-full duration-150 hover:text-white hover:bg-slate-500",onClick:()=>w(i),children:l.jsx(L,{className:"w-3 h-3"})})]}),l.jsxs("div",{className:"grid gap-0.5 ml-11 text-xs text-slate-500",children:[l.jsx("span",{children:a("number",{n:c.length})}),l.jsx("span",{children:a("not_visited",{n:x(c)})}),l.jsx("span",{children:a("visited",{n:v(c)})})]})]},i))})})}):l.jsx("main",{className:"flex-1 flex items-center justify-center",children:l.jsxs(u,{to:"/territory-create",className:"flex gap-2 items-center pl-3 pr-4 pt-1.5 pb-2 bg-white text-slate-950 rounded-full duration-200 hover:bg-slate-500 hover:text-white",children:[l.jsx(A,{className:"w-4 h-4"})," ",a("create")]})})};export{D as default};
